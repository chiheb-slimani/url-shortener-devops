test: add API tests
Task: pytest coverage for core endpoints
